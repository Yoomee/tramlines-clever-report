-report = form.object
-form.semantic_fields_for :filters, filter do |fields|
  -fields.inputs :class => "clever_filter_form" do
    =fields.input :association_name, :as => :select, :collection => options_for_clever_report([report.source_name.pluralize.downcase] + report.association_names), :include_blank => false, :label => false, :input_html => {:class => "filter_association_name_input", :onchange => 'CleverFilter.set_field_name_options($(this))'}, :wrapper_html => {:class => "filter_association_name"}
    %li.select.optional.filter_field_name
      =fields.select :field_name, options_for_clever_field_names(report.source_name, :selected => filter.field_name), {}, :onchange => 'CleverFilter.set_criterion_options($(this))'
    =fields.input :criterion, :as => :select, :collection => options_for_clever_report(HasCleverReports::STRING_FILTER_CRITERIA), :include_blank => false, :label => false, :wrapper_html => {:class => "filter_criterion"}
    =fields.input :args, :as => :string, :label => false, :input_html => {:class => "filter_args_input"}, :wrapper_html => {:class => "filter_args"}
    =multiple_nested_delete_link_for(:filter, :form => fields, :parent_name => "CleverReport")